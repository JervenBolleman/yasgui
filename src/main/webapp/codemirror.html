<!doctype html>
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">

<title>Codemirror Test</title>
<script src="js/codemirrorLib/codemirror.js"></script>
<script type="text/javascript">var sparqlHighlight;</script>
<link rel="stylesheet" href="js/codemirrorLib/codemirror.css">
<link rel="stylesheet" href="js/codemirrorLib/util/simple-hint.css">
<link rel="stylesheet" href="js/codemirror/custom.css">
<script src="js/codemirrorLib/mode/sparql/sparql.js"></script>
<script src="js/codemirrorLib/util/simple-hint.js"></script>
<script src="js/codemirrorLib/util/searchcursor.js"></script>
<script src="js/codemirrorLib/util/match-highlighter.js"></script>
<script src="js/codemirror/addCommands.js"></script>
<script src="js/codemirror/prefix-hint.js"></script>
  </head>

  <body>

	<textarea id="test" style="width:400px;height:300px;">PREFIX rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt;
PREFIX : &lt;http://aers.data2semantics.org/vocab/&gt; PREFIX patient: &lt;http://www.data2semantics.org/ontology/patient/&gt;
SELECT DISTINCT ?age 
?comment 
{
?patient rdfs:comment ?comment.
OPTIONAL{?patient patient:usesMedication ?drug.?drug rdfs:label ?drug_label;skos:exactMatch ?drug_sameAs.?drug_sameAs &lt;http://www4.wiwiss.fu-berlin.de/drugbank/resource/drugbank/primaryAccessionNo&gt; ?pan .}.
OPTIONAL{?patient patient:hasStatus ?status}.
OPTIONAL{
?patient patient:hasDiagnosis ?indication.
OPTIONAL{
?indication rdfs:label ?indication_label.
}
}.
OPTIONAL{?patient patient:hadPreviousIndication ?previousIndication}.
}
</textarea>
	<script type="text/javascript">
	var prefixes = ["aers: bwah", "aebs: sdf"];
    
		
		var myCodeMirror = CodeMirror.fromTextArea(document
				.getElementById("test"), {
			lineNumbers : true,
			extraKeys : {
				"Ctrl-Space" : "autocomplete",
				"Ctrl-D" : "deleteLines",
				"Ctrl-/" : "commentLines",
				"Ctrl-Alt-Down" : "copyLineDown",
				"Ctrl-Alt-Up" : "copyLineUp"
			},
			onCursorActivity : function() {
				myCodeMirror.matchHighlight("CodeMirror-matchhighlight");
			},
			onChange : function(cm) {
				CodeMirror.simpleHint(cm, CodeMirror.prefixHint);
			}
		});
	</script>
</body>
</html>
